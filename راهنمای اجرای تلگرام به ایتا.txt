Ø®ÛŒÙ„ÛŒ Ø¹Ø§Ù„ÛŒ ğŸ‘Œ
Ø¨Ø±ÛŒÙ… Ù…Ø±Ø­Ù„Ù‡â€ŒØ¨Ù‡â€ŒÙ…Ø±Ø­Ù„Ù‡ Ù…Ø«Ù„ ÛŒÙ‡ Ù†Ù‚Ø´Ù‡ Ø±Ø§Ù‡ Ú©Ø§Ù…Ù„ âœ¨
(Ø¬ÙˆØ±ÛŒ ØªÙˆØ¶ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù… Ú©Ù‡ Ø­ØªÛŒ Ø§Ú¯Ù‡ Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø± Ø¨Ø§Ø´Ù‡ Ø¨ØªÙˆÙ†ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒ).

---

# ğŸš€ ØµÙØ± ØªØ§ ØµØ¯ Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª Ø§Ù†ØªÙ‚Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… â Ø§ÛŒØªØ§ Ø±ÙˆÛŒ Debian 12

## ğŸ”¹ Ù…Ø±Ø­Ù„Ù‡ Û±: Ø³Ø§Ø®Øª Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù…

1. Ø¨Ø±Ùˆ Ø¯Ø§Ø®Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ùˆ Ø³Ø±Ú† Ú©Ù†: `@BotFather`

2. Ø¯Ø³ØªÙˆØ± `/newbot` Ø±Ùˆ Ø¨Ø²Ù†

3. ÛŒÙ‡ Ø§Ø³Ù… Ø¨Ø¯Ù‡ (Ù…Ø«Ù„Ø§Ù‹: `MyForwardBot`)

4. ÛŒÙ‡ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ø¨Ø¯Ù‡ Ú©Ù‡ Ø¨Ù‡ `_bot` Ø®ØªÙ… Ø¨Ø´Ù‡ (Ù…Ø«Ù„Ø§Ù‹: `MyForwardChannelBot`)

5. Ø¢Ø®Ø±Ø´ BotFather Ø¨Ù‡Øª ÛŒÙ‡ **ØªÙˆÚ©Ù† (Token)** Ù…ÛŒâ€ŒØ¯Ù‡ Ù…Ø«Ù„ Ø§ÛŒÙ†:

   ```
   123456789:ABCDEF...xyz
   ```

   âœ… Ø§ÛŒÙ† ØªÙˆÚ©Ù† Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù† (Ù„Ø§Ø²Ù… Ø¯Ø§Ø±ÛŒÙ…).

6. Ø¨Ø±Ùˆ Ø¯Ø§Ø®Ù„ Ú©Ø§Ù†Ø§Ù„ Ø®ØµÙˆØµÛŒ ØªÙ„Ú¯Ø±Ø§Ù…Øª

   * Ø±Ø¨Ø§ØªØª Ø±Ùˆ **Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø§Ø¯Ù…ÛŒÙ† Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†**
   * Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ø¯Ù‡: "Post Messages" Ùˆ "Read Messages".

---

## ğŸ”¹ Ù…Ø±Ø­Ù„Ù‡ Û²: Ø³Ø§Ø®Øª Ø±Ø¨Ø§Øª Ø§ÛŒØªØ§

1. ÙˆØ§Ø±Ø¯ Ø§ÛŒØªØ§ Ø´Ùˆ

2. Ø¨Ø±Ùˆ Ø¨Ù‡ Ø¨Ø®Ø´ Ø³Ø§Ø®Øª Ø±Ø¨Ø§Øª (Ù…Ø«Ù„ ØªÙ„Ú¯Ø±Ø§Ù… BotFather Ø¯Ø§Ø±Ù‡ Ø¨Ù‡ Ø§Ø³Ù… `EitaaBotFather` ÛŒØ§ Ø§Ø² Ø·Ø±ÛŒÙ‚ [eitaayar.ir](https://eitaayar.ir))

3. Ø¯Ø³ØªÙˆØ± `/newbot` Ø±Ùˆ Ø¨Ø²Ù†

4. Ø§Ø³Ù… Ùˆ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ø¨Ø¯Ù‡

5. ÛŒÙ‡ **ØªÙˆÚ©Ù† (Token)** Ø¨Ù‡Øª Ù…ÛŒâ€ŒØ¯Ù‡ (Ø´Ø¨ÛŒÙ‡ ØªÙ„Ú¯Ø±Ø§Ù…)
   Ù…Ø«Ù„:

   ```
   654321:XYZ...abc
   ```

   âœ… Ø§ÛŒÙ†Ù… Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†.

6. Ø¨Ø±Ùˆ Ø¯Ø§Ø®Ù„ Ú©Ø§Ù†Ø§Ù„ Ø®ØµÙˆØµÛŒ Ø§ÛŒØªØ§

   * Ø±Ø¨Ø§ØªØª Ø±Ùˆ **Ø§Ø¯Ù…ÛŒÙ† Ú©Ù†**
   * Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù….

---

## ğŸ”¹ Ù…Ø±Ø­Ù„Ù‡ Û³: Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø±ÙˆØ± (Debian 12)

Ø±ÙˆÛŒ Ø³Ø±ÙˆØ±Øª (SSH Ø¨Ø§ root ÛŒØ§ sudo) Ø¯Ø³ØªÙˆØ±Ø§Øª Ø²ÛŒØ± Ø±Ùˆ Ø¨Ø²Ù†:

```bash
# Ø¢Ù¾Ø¯ÛŒØª Ø³ÛŒØ³ØªÙ…
sudo apt update && sudo apt upgrade -y

# Ù†ØµØ¨ Ù¾Ø§ÛŒØªÙˆÙ† Ùˆ pip
sudo apt install python3 python3-pip -y

# Ù†ØµØ¨ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ø²Ù…
pip3 install python-telegram-bot==13.15 requests
```

---

## ğŸ”¹ Ù…Ø±Ø­Ù„Ù‡ Û´: Ø³Ø§Ø®Øª ÙØ§ÛŒÙ„ Ø±Ø¨Ø§Øª

1. ÛŒÙ‡ Ù¾ÙˆØ´Ù‡ Ø¨Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª Ø¨Ø³Ø§Ø²:

```bash
mkdir ~/telegram-to-eitaa
cd ~/telegram-to-eitaa
```

2. ÛŒÙ‡ ÙØ§ÛŒÙ„ Ø¨Ù‡ Ø§Ø³Ù… `bot.py` Ø¨Ø³Ø§Ø²:

```bash
nano bot.py
```

3. Ø§ÛŒÙ† Ú©Ø¯ Ø±Ùˆ Ú©Ø§Ù…Ù„ Ø¯Ø§Ø®Ù„Ø´ Ú©Ù¾ÛŒ Ú©Ù† ğŸ‘‡ (ØªÙˆÚ©Ù†â€ŒÙ‡Ø§ Ùˆ Ú©Ø§Ù†Ø§Ù„â€ŒÙ‡Ø§ Ø±Ùˆ Ø¹ÙˆØ¶ Ú©Ù†):

```python
import requests
from telegram.ext import Updater, MessageHandler, Filters

# --- ØªÙ†Ø¸ÛŒÙ…Ø§Øª ---
telegram_bot_token = "ØªÙˆÚ©Ù†_Ø±Ø¨Ø§Øª_ØªÙ„Ú¯Ø±Ø§Ù…"
telegram_channel = "@ÛŒÙˆØ²Ø±Ù†ÛŒÙ…_Ú©Ø§Ù†Ø§Ù„_ØªÙ„Ú¯Ø±Ø§Ù…"   # Ú©Ø§Ù†Ø§Ù„ Ø®ØµÙˆØµÛŒ (Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ†Ø´ Ú©Ù†)
eitaa_token = "ØªÙˆÚ©Ù†_Ø±Ø¨Ø§Øª_Ø§ÛŒØªØ§"
eitaa_channel = "@ÛŒÙˆØ²Ø±Ù†ÛŒÙ…_Ú©Ø§Ù†Ø§Ù„_Ø§ÛŒØªØ§"        # Ú©Ø§Ù†Ø§Ù„ Ø®ØµÙˆØµÛŒ (Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ†Ø´ Ú©Ù†)

# --- Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ø§ÛŒØªØ§ ---
def send_to_eitaa(endpoint, data, files=None):
    url = f"https://eitaayar.ir/api/{eitaa_token}/{endpoint}"
    try:
        r = requests.post(url, data={"chat_id": eitaa_channel, **data}, files=files)
        print("ğŸ“¤ Ù¾Ø§Ø³Ø® Ø§ÛŒØªØ§:", r.text)
    except Exception as e:
        print("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ø§ÛŒØªØ§:", e)

# --- ÙˆÙ‚ØªÛŒ Ù¾ÛŒØ§Ù… Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨ÛŒØ§Ø¯ ---
def forward_to_eitaa(update, context):
    msg = update.channel_post
    
    # Ù…ØªÙ† Ø³Ø§Ø¯Ù‡
    if msg.text:
        send_to_eitaa("sendMessage", {"text": msg.text})

    # Ø¹Ú©Ø³
    elif msg.photo:
        file = msg.photo[-1].get_file()
        file_path = file.download()
        with open(file_path, 'rb') as f:
            send_to_eitaa("sendPhoto", {"caption": msg.caption or ""}, {"photo": f})

    # ÙˆÛŒØ¯ÛŒÙˆ
    elif msg.video:
        file = msg.video.get_file()
        file_path = file.download()
        with open(file_path, 'rb') as f:
            send_to_eitaa("sendVideo", {"caption": msg.caption or ""}, {"video": f})

    # ÙˆÛŒØ³
    elif msg.voice:
        file = msg.voice.get_file()
        file_path = file.download()
        with open(file_path, 'rb') as f:
            send_to_eitaa("sendVoice", {}, {"voice": f})

    # ÙØ§ÛŒÙ„ (Ø³Ù†Ø¯ Ù…Ø«Ù„ PDF, ZIP...)
    elif msg.document:
        file = msg.document.get_file()
        file_path = file.download()
        with open(file_path, 'rb') as f:
            send_to_eitaa("sendDocument", {"caption": msg.caption or ""}, {"document": f})

    else:
        print("â„¹ï¸ Ù†ÙˆØ¹ Ù¾ÛŒØ§Ù… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ø´Ø¯Ù‡:", msg)

# --- Ø§Ø¬Ø±Ø§ÛŒ Ø±Ø¨Ø§Øª ØªÙ„Ú¯Ø±Ø§Ù… ---
updater = Updater(telegram_bot_token, use_context=True)
dp = updater.dispatcher
dp.add_handler(MessageHandler(Filters.chat(username=telegram_channel), forward_to_eitaa))

print("ğŸš€ Ø±Ø¨Ø§Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª Ùˆ Ø¯Ø§Ø±Ù‡ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø±Ùˆ Ø§Ø² ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ù‡ Ø§ÛŒØªØ§ Ù…ÛŒâ€ŒÙØ±Ø³ØªÙ‡...")
updater.start_polling()
updater.idle()
```

4. ÙØ§ÛŒÙ„ Ø±Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù† (Ctrl+O, Enter, Ctrl+X).

---

## ğŸ”¹ Ù…Ø±Ø­Ù„Ù‡ Ûµ: Ø§Ø¬Ø±Ø§ÛŒ ØªØ³ØªÛŒ Ø±Ø¨Ø§Øª

Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ú©Ø±Ø¯Ù†:

```bash
python3 bot.py
```

Ø­Ø§Ù„Ø§ Ù‡Ø± Ù¾ÛŒØ§Ù…ØŒ Ø¹Ú©Ø³ØŒ ÙˆÛŒØ¯ÛŒÙˆ ÛŒØ§ ÙØ§ÛŒÙ„ Ú©Ù‡ ØªÙˆÛŒ **Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù…** Ø¨Ø²Ù†ÛŒ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ§Ø¯ ØªÙˆÛŒ **Ú©Ø§Ù†Ø§Ù„ Ø§ÛŒØªØ§** âœ…

---

## ğŸ”¹ Ù…Ø±Ø­Ù„Ù‡ Û¶: Ø§Ø¬Ø±Ø§ÛŒ Ø¯Ø§Ø¦Ù…ÛŒ (systemd)

1. ÛŒÙ‡ ÙØ§ÛŒÙ„ Ø³Ø±ÙˆÛŒØ³ Ø¨Ø³Ø§Ø²:

```bash
sudo nano /etc/systemd/system/tg2eitaa.service
```

2. Ø§ÛŒÙ†Ùˆ ØªÙˆØ´ Ø¨Ø°Ø§Ø± (Ù…Ø³ÛŒØ± Ø±Ùˆ Ø¯Ø±Ø³Øª Ø¨Ø²Ù†):

```ini
[Unit]
Description=Telegram to Eitaa Forward Bot
After=network.target

[Service]
User=root
WorkingDirectory=/root/telegram-to-eitaa
ExecStart=/usr/bin/python3 /root/telegram-to-eitaa/bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

3. Ø°Ø®ÛŒØ±Ù‡ Ú©Ù† Ùˆ Ø¨Ø²Ù†:

```bash
sudo systemctl daemon-reload
sudo systemctl enable tg2eitaa
sudo systemctl start tg2eitaa
```

4. ÙˆØ¶Ø¹ÛŒØª Ø±Ùˆ Ø¨Ø¨ÛŒÙ†:

```bash
sudo systemctl status tg2eitaa
```

---

## âœ… Ù†ØªÛŒØ¬Ù‡

Ø§Ù„Ø§Ù† Ø±Ø¨Ø§ØªØª Ù‡Ù…ÛŒØ´Ù‡ Ø±ÙˆØ´Ù† Ù…ÛŒâ€ŒÙ…ÙˆÙ†Ù‡ØŒ Ø¨Ø¹Ø¯ Ø§Ø² Ø±ÛŒØ¨ÙˆØª Ù‡Ù… Ø®ÙˆØ¯Ø´ Ø¨Ø§Ù„Ø§ Ù…ÛŒØ§Ø¯ Ùˆ Ù‡Ø± Ú†ÛŒØ²ÛŒ ØªÙˆÛŒ Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø²Ù†ÛŒ â†’ Ù…ÛŒØ±Ù‡ Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ø§ÛŒØªØ§.

---

Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ù…Ù† Ø¨Ø±Ø§Øª Ù‡Ù…ÛŒÙ† Ù†Ø³Ø®Ù‡ Ø±Ùˆ ÛŒÚ©Ù… **Ù¾ÛŒØ´Ø±ÙØªÙ‡â€ŒØªØ± Ú©Ù†Ù…** Ú©Ù‡:

* Ø§Ø³ØªÛŒÚ©Ø±Ù‡Ø§ Ø±Ùˆ Ù‡Ù… Ù…Ù†ØªÙ‚Ù„ Ú©Ù†Ù‡
* Ø®Ø·Ø§Ù‡Ø§ Ø±Ùˆ Ù„Ø§Ú¯ Ú©Ù†Ù‡ ØªÙˆÛŒ ÙØ§ÛŒÙ„
* Ø§Ú¯Ù‡ Ø³Ø±ÙˆØ± Ø§ÛŒØªØ§ ÛŒØ§ ØªÙ„Ú¯Ø±Ø§Ù… Ú©Ù†Ø¯ Ø´Ø¯ØŒ Ø®ÙˆØ¯Ø´ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†Ù‡ØŸ
